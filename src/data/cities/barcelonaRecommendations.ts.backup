/**
 * Barcelona Family Travel Intelligence
 * Beaches + culture, manageable size, great food
 */

export function generateBarcelonaTasks(familyProfile: any, daysUntilTrip: number) {
  const tasks = [];
  const kids = familyProfile.kids || [];
  const hasToddler = kids.some((kid: any) => parseInt(kid.age) <= 4);

  // Sagrada Familia with kids
  tasks.push({
    id: 'sagrada-familia-tickets',
    title: 'Book Sagrada Familia Skip-the-Line Tickets',
    subtitle: 'GaudÃ­\'s masterpiece - book 2+ months ahead, amazing for kids to see',
    category: 'planning',
    status: 'incomplete',
    urgent: daysUntilTrip <= 60,
    isCustom: false,
    priority: 'high',
    daysBeforeTrip: 60,
    intelligence: {
      reasoning: [
        'ğŸ—ï¸ Still under construction - kids love seeing cranes',
        'ğŸ« Must book online 2+ months ahead - sells out',
        'â›ª Choose tower access for amazing city views',
        'ğŸ‘¶ Stroller accessible, fascinating for all ages'
      ].join('\n'),
      source: 'Barcelona family attractions'
    }
  });

  // Park GÃ¼ell strategy
  tasks.push({
    id: 'park-guell-strategy',
    title: 'Book Park GÃ¼ell Early Morning Slot',
    subtitle: 'GaudÃ­\'s whimsical park - early slots cooler and less crowded for families',
    category: 'planning',
    status: 'incomplete',
    urgent: daysUntilTrip <= 30,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 30,
    intelligence: {
      reasoning: [
        'ğŸ¦ Famous mosaic lizard - kids love photos here',
        'ğŸŒ… Book 8am slot - cooler and fewer crowds',
        'ğŸ¨ Whimsical architecture kids find magical',
        'ğŸ‘Ÿ Lots of walking and stairs - bring comfortable shoes'
      ].join('\n'),
      source: 'Barcelona family attractions'
    }
  });

  // Beach strategy
  tasks.push({
    id: 'barcelona-beach-plan',
    title: 'Plan Beach Day at Barceloneta',
    subtitle: 'City beach with playgrounds, restaurants, easy metro access - perfect for families',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 14,
    intelligence: {
      reasoning: [
        'ğŸ–ï¸ Barceloneta Beach: closest to city center',
        'ğŸš‡ Yellow Line (L4) direct to Barceloneta station',
        'ğŸ Beach volleyball courts and playgrounds',
        'ğŸ¤ Beachfront restaurants with fresh seafood'
      ].join('\n'),
      source: 'Barcelona beach intelligence'
    }
  });

  // Las Ramblas safety
  tasks.push({
    id: 'las-ramblas-safety',
    title: 'Plan Las Ramblas Visit with Pickpocket Awareness',
    subtitle: 'Famous pedestrian street - watch belongings, avoid street performers asking for money',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 7,
    intelligence: {
      reasoning: [
        'ğŸ­ Street performers entertaining but watch belongings',
        'ğŸ‘œ Keep bags zipped and in front',
        'ğŸš« Avoid anyone offering "free" bracelets or roses',
        'ğŸ BoquerÃ­a Market great for family snacks'
      ].join('\n'),
      source: 'Barcelona safety intelligence'
    }
  });

  // Metro with family
  tasks.push({
    id: 'barcelona-metro-family',
    title: 'Get Barcelona Metro Family Pass',
    subtitle: 'T-Familiar pass covers 8 trips for family, most stations elevator accessible',
    category: 'travel',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 7,
    intelligence: {
      reasoning: [
        'ğŸ« T-Familiar: 8 trips shared among family members',
        'ğŸ›— Most metro stations have elevators for strollers',
        'ğŸš‡ Clean, safe, and efficient transport system',
        'ğŸ“± TMB app shows real-time arrivals'
      ].join('\n'),
      source: 'Barcelona transport intelligence'
    }
  });

  // Siesta planning
  tasks.push({
    id: 'barcelona-siesta-planning',
    title: 'Plan Around Spanish Siesta (2-5pm)',
    subtitle: 'Many shops close 2-5pm - plan indoor activities or beach time during siesta',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 14,
    intelligence: {
      reasoning: [
        'ğŸ˜´ Traditional siesta 2-5pm - shops and restaurants close',
        'ğŸ–ï¸ Perfect beach time when city center closes',
        'ğŸ›ï¸ Museums usually stay open during siesta',
        'ğŸ½ï¸ Late lunch 2-3pm, early dinner 8-9pm'
      ].join('\n'),
      source: 'Barcelona culture intelligence'
    }
  });

  return tasks;
}