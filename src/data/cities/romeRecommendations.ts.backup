/**
 * Rome Family Travel Intelligence
 * History kids can touch, gelato, overwhelming but magical
 */

export function generateRomeTasks(familyProfile: any, daysUntilTrip: number) {
  const tasks = [];
  const kids = familyProfile.kids || [];
  const hasToddler = kids.some((kid: any) => parseInt(kid.age) <= 4);

  // Colosseum family strategy
  tasks.push({
    id: 'colosseum-family-tour',
    title: 'Book Colosseum Family Tour with Gladiator Focus',
    subtitle: 'Skip-the-line essential, gladiator stories captivate kids, underground tours for 8+',
    category: 'planning',
    status: 'incomplete',
    urgent: daysUntilTrip <= 30,
    isCustom: false,
    priority: 'high',
    daysBeforeTrip: 45,
    intelligence: {
      reasoning: [
        'âš”ï¸ Gladiator stories fascinate kids of all ages',
        'ğŸ« Skip-the-line tours save 1+ hours in queues',
        'ğŸ•³ï¸ Underground tours for kids 8+ (more dramatic)',
        'ğŸ›ï¸ Combo tickets include Roman Forum and Palatine Hill'
      ].join('\n'),
      source: 'Rome family attractions'
    }
  });

  // Vatican with kids strategy
  tasks.push({
    id: 'vatican-family-strategy',
    title: 'Plan Vatican Museums Early Morning Visit',
    subtitle: 'Overwhelming for young kids - focus on Sistine Chapel, book 8am entry',
    category: 'planning',
    status: 'incomplete',
    urgent: daysUntilTrip <= 45,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 45,
    intelligence: {
      reasoning: [
        'ğŸ¨ Skip most galleries - head straight to Sistine Chapel',
        'ğŸŒ… 8am early entry before crowds arrive',
        'ğŸ‘¶ Too overwhelming for kids under 6',
        'ğŸ‘• Dress code: covered shoulders and knees'
      ].join('\n'),
      source: 'Rome family attractions'
    }
  });

  // Trevi Fountain timing
  tasks.push({
    id: 'trevi-fountain-timing',
    title: 'Visit Trevi Fountain Early Morning or Evening',
    subtitle: 'Avoid midday crowds, bring coins for wishes, gelato nearby',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 14,
    intelligence: {
      reasoning: [
        'ğŸª™ Kids love throwing coins and making wishes',
        'ğŸŒ… Best times: 7-8am or after 7pm',
        'ğŸ“¸ Incredibly crowded midday - impossible photos',
        'ğŸ¨ Giolitti gelato shop 5 minutes walk away'
      ].join('\n'),
      source: 'Rome family attractions'
    }
  });

  // Gelato education
  tasks.push({
    id: 'rome-gelato-hunt',
    title: 'Research Best Family Gelato Shops',
    subtitle: 'Giolitti, Fatamorgana, Il Gelato - avoid tourist trap gelaterias',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 7,
    intelligence: {
      reasoning: [
        'ğŸ¨ Real gelato: natural colors, covered containers',
        'ğŸ† Best: Giolitti (historic), Fatamorgana (creative flavors)',
        'ğŸš« Avoid: bright artificial colors, uncovered gelato',
        'ğŸ’¡ Kids love picking multiple flavors'
      ].join('\n'),
      source: 'Rome food culture'
    }
  });

  // Walking strategy
  tasks.push({
    id: 'rome-walking-strategy',
    title: 'Plan Rome Walking Strategy for Families',
    subtitle: 'Cobblestones hard on strollers, comfortable shoes essential, plan rest stops',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'high',
    daysBeforeTrip: 14,
    intelligence: {
      reasoning: [
        'ğŸš¶â€â™‚ï¸ Rome = lots of walking on uneven cobblestones',
        'ğŸ‘Ÿ Comfortable walking shoes absolutely essential',
        'ğŸ›’ Strollers difficult on cobblestones',
        'â›² Plan rest stops at fountains and piazzas'
      ].join('\n'),
      source: 'Rome logistics intelligence'
    }
  });

  // Spanish Steps alternative
  tasks.push({
    id: 'spanish-steps-alternative',
    title: 'Skip Spanish Steps During Peak Hours',
    subtitle: 'Sitting banned, incredibly crowded - visit early morning or find alternative viewpoints',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'low',
    daysBeforeTrip: 7,
    intelligence: {
      reasoning: [
        'ğŸš« Sitting on steps now banned (â‚¬400 fine)',
        'ğŸ‘¥ Extremely crowded midday - not fun with kids',
        'ğŸŒ… Early morning visits less crowded',
        'ğŸ“¸ Quick photo stop, don\'t plan long visit'
      ].join('\n'),
      source: 'Rome attractions intelligence'
    }
  });

  // Trastevere family dinner
  tasks.push({
    id: 'trastevere-family-dinner',
    title: 'Plan Family Dinner in Trastevere',
    subtitle: 'Charming neighborhood, family-friendly restaurants, kids love the narrow streets',
    category: 'planning',
    status: 'incomplete',
    urgent: false,
    isCustom: false,
    priority: 'medium',
    daysBeforeTrip: 14,
    intelligence: {
      reasoning: [
        'ğŸ˜ï¸ Charming cobblestone neighborhood',
        'ğŸ Authentic Roman restaurants with kids menus',
        'ğŸŒ™ Beautiful evening atmosphere for families',
        'ğŸš¶â€â™‚ï¸ Easy walk from city center across Tiber'
      ].join('\n'),
      source: 'Rome family dining'
    }
  });

  return tasks;
}